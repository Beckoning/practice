# Java 2021面试题

### 百度
```	业务架构
	用户系统的基本功能
	用户系统的难点、痛点
	关联查询查询,如何解决。1、尽可能单表查询 2、缓存(先更新库,后清理缓存)
	并发情况下如何保证稳定性。服务降级
	商户系统的基本功能
	concurrentHashMap做了哪些优化
	并发原子类解决了什么问题
	jvm内存模型
	垃圾回收
	垃圾回收算法
	Spring中的模版模式
	bean的生命周期
	如果没有Spring的话,你门会注意哪些问题 1、bean的创建、管理2、注入3、事务 4、spi
	系统优化 GC频繁、线程标高、内存溢出
```

### 美团支付组
```
    Lambda 与匿名内部类的区别
	arraylist扩容机制
 	hashmap put方法流程
 	hashmap扩容的头尾插法
 	hashmap长度为什么是2的整数幂
 	ConcurrentHashMap的实现
 	ConcurrentHashMap的size方法
 	sleep 和wait方法的区别
 	线程池的核心参数
 	线程池放执行线程，核心参数的变化流程
 	synchronized关键词的理解
 	synchronized锁升级
 	lock的理解
 	类加载流程
 	事物隔离机制，以及如何实现的
 	数据库的主从复制流程、如果发生延迟怎么处理
 	spring的循环依赖
 	构造方法可以解决循环依赖吗--解决不了循环依赖
 	为什么使用rocketmq
```
### 火花思维
```
	分布式锁实现
	缓存击穿、缓存雪崩
	热key处理
	明知道服务有大量的key失效的  处理方案:二次缓存、key的有效期不同
	布隆过滤器、以及实现原理
	锁的key过期,但是业务还在处理(这种问题如何处理)
	zk如何一致性
	事物的隔离级别
	线程池的实现方式
	创建线程的方式
	创建单线程线程池，或者缓存的线程池  有什么问题
	FutureTask  和callable 创建线程有什么区别	
	ForkJoinPool
	两个线程  打印1a2b3c
	synchronize和lock的区别
	synchronize升级过程
	对象头中的数据
	对象头中分代年龄 最大是15 因为由于age只有4位 (https://blog.csdn.net/weixin_40927436/article/details/109305365)
	beanfactory和factorybean的区别
	创建bean的方式有几种	
	BeanDefinition中可以修改bean的名称
	mq防止重复消费
	mq中push实现原理
	push使用什么方式拉去(长连接，短链接)
	分布式事务处理
	常用的垃圾回收器
	cms如何产生浮动垃圾  以及如何处理
	oom问题如何定位
	如何判断sql是否走索引
	联合索引的创建需要考虑的因素
	分页查询  使用做分页条件
	项目上线时间固定，时间短  如何处理 - 任务拆分，需求简单化
```
### 京东新零售
```
	mq的有序消费
	缓存击穿,缓存雪崩处理
	redis的五种数据结构的底层实现
	二分法和二叉树的实现有什么优缺点 
	mq的延迟消费如何处理
```
### 京东健康
```
	一面
	dubbo服务调用过程
	zk长链接(心跳检测)
	dubbo挂机,如果通知zk

	分布式事务:
		分布式事务处理,根据现实情况进行不同的操作、查询补偿、还是回滚
		事件、正反向考虑
	如果保证,数据的一致性	
	接口的幂等性:数据的插入、数据的更新
	数据库的事物机制:  mysql如何解决脏读、幻读(mvcc)
	mvcc实现机制
	两个数据同时更新,CAS保证更新正常
	mysql索引:联合索引的最左查询、索引原理如何达到最左原则、回表查询(没有主键还可以回表查询吗)

	redis使用:实现方式 set方法,锁的可重入行
			redis缓存的使用 缓存击穿、缓存雪崩
	线程池使用 参数、拒绝策略、流程	
	二面:
	分库分表没有遇到性能问题,以及处理方法?
	es的性能问题
	es数据同步的方式  canal同步 mq同步(中间表数据的同步，为什么这么使用),这两种同步方式  有什么优缺点
		使用binlog日志,不会对数据库产生压力,高可用可以部署集群
		mq同步:为了解决中间表的数据同步
	es text 和keyword的区别
	什么是es的倒排索引
	分表后，新增字段(效率、流程)
	分表后如何跨表查询
	sql慢查询
	为什么分页查询,后续效率越来越慢
	数据库悲观锁、乐观锁,优缺点,乐观锁可以保证数据真准备性
	CAS乐观锁有什么问题。怎么处理
	数据库的索引以及数据结构 
	联合索引(A,B) 查询时使用A= '' and B =''  和B= '' and A = ''有什么需别 https://juejin.cn/post/6844904073955639304
	数据库回表
	redis分布式锁的使用实现,锁key、value值的选择,redis数据结构
	锁的可从入性
	redis缓存的使用场景
	如何保证数据库和缓存的数据的一致性,先删除缓存,后修改数据库的存在的问题
	redis中key的命中情况如何统计的,缓存起到了多大的情况
	redis热key怎么处理 https://zhuanlan.zhihu.com/p/65959998
	电商超卖现象 https://blog.csdn.net/cpongo4/article/details/95943904
	你们限流怎么实现的,现在那些服务会使用,如何使用
	使用网管(Kong)解决了什么事情,鉴权,判断链接的合法性
	mq的使用(削峰、解耦),介绍下如何使用的
	mq丢消息的情况 https://didispace-wx.blog.csdn.net/article/details/108332227
	mq的消费堆积问题
	mq的如何顺序消费
	mq的重复消费
	mq为什么使用的pull模式
	dubbo调用的流程、负载均衡策略
	dubbo调用超时时间设置
	dubbo的降级、权重
	服务监控
	dubbo接口的定义规范
	dubbo的ExceptionFilter异常处理。https://blog.csdn.net/yangzaizi/article/details/80638310
	dubbo的spi
	消息通知系统设计
	三面:
		dubbo的流程、使用dubbo的好处
		redis锁、缓存的使用场景
		mq的使用场景
		Spring的核心框架 
		mq的使用场景
		数据库分库分表
		分库分表的策略(每月分表、单分100张表)有什么优势、或者问题
		邮件服务的拆分(前期有没有什么考虑、为什么要拆分)
		高并发的问题的处理
		分库分表导致服务的连接过多?????
		实现一个先进先去的队列(arraylist)
		设计模式(策略+模版......)
		引用传递(类A作为参数传递一个函数,方法内新建了一个类A1,  方法外类A的类地址信息不变)

```
### 跟谁学:
```
     算法、线程池、多个线程执行,然后对多个线程执行结果进行操作CompletableFuture,FockJoinPool
```
### v房
```
    hashmap、hashtable treemap了解
    arrayList LinkList
    JavaIo  BIO、NIO(机制)、AIO     
    那块会发生OOM异常()
```
### 一个国企:
```
	项目介绍时尽量提一个使用的技术框架
	redis使用、数据持久化(RDB+AOF如何实现)、什么极端情况会出现丢失数据,
	redis主从同步
	数据库:数据丢单、数据库性能问题(先说结果,然后再说下过程)、索引查询、数据库cpu升高、(性能调优的方法:数据查询尽量单表、索引的建立)
	rocketmq使用场景、解决什么问题、消息堆积问题
	简单的介绍下一个系统的功能(用途、解决了什么问题、面向对象、主要的业务能力)    
```
### 美团通道组
```
	快捷 协议支付的区别
	代扣流程
	入金轻易成功的缺点
	如何保证资金安全
	你们业务为什么使用rocketmq 不用kafka
	为什么kafka不能支持大量的topic
	rocket mq如何保证大于等于1的消费	
	redis会丢消息吗
	redis持久化机制
	数据库的索引
	b树和b+树的区别
	数据库的隔离级别
	那些隔离级别可以解决脏读
	什么叫幻读
	读已提交  和可重复读是怎么实现的
	hashmap  put一个节点的过程
	hashmap 放100个节点初始容量多少合适
	hashmap的key可以是null吗   还有key值最好是什么类型的值
	算法 数组 12345674512(数组先增后减)  找到最大值(考虑到效率)
```
### 龙湖:
```
	分布式事务
	大的表创建字段不同类型的字段有什么优缺点
	什么时候使用char、varchar
		定长的使用char 不定长的使用varchar
	什么时候是行级锁、什么时候是表级别的锁
		mysql InnoDB可以自定义配置表锁还是行锁、且InnoDB不存在锁升级
	线程池使用
```






